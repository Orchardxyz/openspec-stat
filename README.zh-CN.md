# openspec-stat

[![NPM version](https://img.shields.io/npm/v/openspec-stat.svg?style=flat)](https://npmjs.com/package/openspec-stat)
[![NPM downloads](http://img.shields.io/npm/dm/openspec-stat.svg?style=flat)](https://npmjs.com/package/openspec-stat)
[![CI](https://github.com/Orchardxyz/openspec-stat/actions/workflows/ci.yml/badge.svg)](https://github.com/Orchardxyz/openspec-stat/actions/workflows/ci.yml)

ç”¨äºè¿½è¸ªå›¢é˜Ÿæˆå‘˜åœ¨ Git ä»“åº“ä¸­çš„ OpenSpec ææ¡ˆä¸ä»£ç å˜æ›´çš„å‘½ä»¤è¡Œå·¥å…·ã€‚

[English](./README.md) | ç®€ä½“ä¸­æ–‡

## å®‰è£…

```bash
# å…¨å±€å®‰è£…
npm install -g openspec-stat
# æˆ–é¡¹ç›®å†…å¼€å‘ä¾èµ–
npm install -D openspec-stat
```

## å¿«é€Ÿå¼€å§‹

é»˜è®¤æ—¶é—´çª—å£ï¼šæ˜¨å¤© 20:00 â†’ ä»Šå¤© 20:00ã€‚

```bash
# åŸºç¡€è¿è¡Œ
openspec-stat

# è‡ªå®šä¹‰æ—¶é—´èŒƒå›´
openspec-stat --since "2024-01-01 00:00:00" --until "2024-01-31 23:59:59"

# å¤šä»“åº“ï¼ˆéœ€é…ç½®æ–‡ä»¶ï¼‰
openspec-stat multi -c .openspec-stats.multi.json
```

## å…³é”®ç‰¹æ€§

- æŒ‰æ—¶é—´çª—å£ä¸åˆ†æ”¯è¿‡æ»¤è¿½è¸ª Git æäº¤
- è¯†åˆ«åŒæ—¶åŒ…å« OpenSpec ææ¡ˆä¸ä»£ç å˜æ›´çš„æäº¤
- ææ¡ˆç»´åº¦èšåˆï¼Œé¿å… merge commit ç»Ÿè®¡åå·®
- ä½œè€…åˆ†ç»„ä¸åç§°æ˜ å°„ï¼ˆåˆå¹¶å¤šä¸ª Git èº«ä»½ï¼‰
- å¤šåˆ†æ”¯é€šé…ä¸ **å¤šä»“åº“æ¨¡å¼ï¼ˆBETAï¼‰**
- è¾“å‡ºï¼šè¡¨æ ¼ã€JSONã€CSVã€Markdownï¼›è¯­è¨€ï¼šen / zh-CN

## å¸¸ç”¨å‚æ•°ï¼ˆå®Œæ•´è§ `openspec-stat --help`ï¼‰

- `-r, --repo <path>`ï¼šä»“åº“è·¯å¾„ï¼ˆé»˜è®¤å½“å‰ç›®å½•ï¼‰
- `-b, --branches <list>`ï¼šé€—å·åˆ†éš”åˆ†æ”¯ï¼Œæ”¯æŒé€šé…
- `-s, --since` / `-u, --until`ï¼šæ—¶é—´èŒƒå›´
- `-a, --author <name>`ï¼šæŒ‰ä½œè€…è¿‡æ»¤
- `-c, --config <path>`ï¼šé…ç½®æ–‡ä»¶
- `--json | --csv | --markdown`ï¼šè¾“å‡ºæ ¼å¼
- `-l, --lang <language>`ï¼š`en` æˆ– `zh-CN`
- `-v, --verbose`ï¼šè¯¦ç»†æ¨¡å¼

## å¤šä»“åº“æ¨¡å¼ï¼ˆBETAï¼‰

ä¸€æ¬¡è¿è¡Œåˆ†æå¤šä¸ªæœ¬åœ°/è¿œç¨‹ä»“åº“ã€‚

```bash
openspec-stat init --multi                         # äº¤äº’å¼åˆå§‹åŒ–
openspec-stat multi -c .openspec-stats.multi.json  # èšåˆè§†å›¾
openspec-stat multi -c .openspec-stats.multi.json --show-contributors
```

è¯¦è§ [å¤šä»“åº“æ¨¡å¼æŒ‡å—](./MULTI_REPO_GUIDE.md)ã€‚

**è¿œç¨‹ç¼“å­˜**ï¼šè¿œç¨‹ä»“åº“ä¼šé¦–æ¬¡å…‹éš†åå¤ç”¨ï¼Œè·¯å¾„ä¸º
`~/.openspec-stat/cached/repos/<ä»“åº“å>-<å“ˆå¸Œ>`ã€‚ä½¿ç”¨ `--cache-mode temporary`
å¯æ”¹ä¸ºä¸€æ¬¡æ€§å…‹éš†ï¼Œæˆ–ç”¨ `--force-clone` åœ¨å•æ¬¡è¿è¡Œä¸­å¼ºåˆ¶é‡æ–°å…‹éš†ã€‚

## é…ç½®ï¼ˆç®€ç‰ˆï¼‰

åœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»º `.openspec-stats.json` æˆ– `openspec-stats.config.json`ã€‚

```json
{
  "defaultBranches": ["origin/master", "origin/main", "origin/release/*"],
  "defaultSinceHours": -30,
  "defaultUntilHours": 18,
  "authorMapping": {"zhangsan@company.com": "å¼ ä¸‰"},
  "openspecDir": "openspec/",
  "excludeExtensions": [".md", ".txt", ".png", ".jpg", "..."],
  "activeUserWeeks": 2
}
```

å…³é”®å­—æ®µï¼šé»˜è®¤åˆ†æ”¯/æ—¶é—´çª—å£ã€ä½œè€…æ˜ å°„ï¼ˆåˆå¹¶èº«ä»½ï¼‰ã€OpenSpec ç›®å½•ã€æ’é™¤æ‰©å±•åã€æ´»è·ƒç”¨æˆ·çª—å£ã€‚

## è¾“å‡ºç¤ºä¾‹

```
ğŸ“Š OpenSpec ç»Ÿè®¡
æ—¶é—´ï¼š2024-01-01 00:00:00 ~ 2024-01-31 23:59:59
åˆ†æ”¯ï¼šorigin/master
æäº¤æ€»æ•°ï¼š8

ææ¡ˆæ±‡æ€»
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ææ¡ˆ         â”‚ æäº¤æ•°  â”‚ æ–‡ä»¶æ•°    â”‚ å‡€å˜æ›´    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ feature-123  â”‚ 5       â”‚ 30        â”‚ +656      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½œè€…æ±‡æ€»
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä½œè€…    â”‚ æäº¤æ•°  â”‚ ææ¡ˆæ•°    â”‚ å‡€å˜æ›´    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¼ ä¸‰    â”‚ 8       â”‚ 3         â”‚ +667      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

æ›´å¤šæ ¼å¼ï¼š`--markdown`ã€`--json`ã€`--csv`ã€‚

## è¯­è¨€

`--lang en`ï¼ˆé»˜è®¤ï¼‰æˆ– `--lang zh-CN`ï¼Œæ”¯æŒæŒ‰ç³»ç»Ÿè¯­è¨€è‡ªåŠ¨é€‰æ‹©ã€‚

## å¼€å‘

```bash
pnpm install
pnpm dev
pnpm build
node dist/cjs/cli.js
```

## è´¡çŒ®ä¸å‘å¸ƒ

- å‚è§ [CONTRIBUTING.md](./CONTRIBUTING.md) è·å–å¼€å‘ä¸ PR è§„èŒƒã€‚
- å‚è§ [RELEASE.md](./RELEASE.md) äº†è§£åŸºäº Changesets çš„å‘å¸ƒæµç¨‹ã€‚

## è®¸å¯è¯

MIT
